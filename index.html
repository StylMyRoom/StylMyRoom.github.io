<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StyLMYRoom - AI Home Design</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }

        /* Custom styles for the before-after slider */
        .before-after-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .before-image, .after-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
        }
        .after-image {
            clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
        }
        .slider-handle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: white;
            cursor: ew-resize;
            transform: translateX(-50%);
            z-index: 10;
        }
        .slider-handle-button {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            border: 3px solid white;
            border-radius: 50%;
            background-color: rgba(0,0,0,0.5);
            color: white;
            transform: translate(-50%, -50%);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        /* Custom styles for heat buttons */
        .heat-button {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            animation: pulse 2s infinite;
        }
        .heat-button-inner {
            width: 8px;
            height: 8px;
            background-color: #3b82f6;
            border-radius: 50%;
        }
        .heat-button-tooltip {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .heat-button:hover .heat-button-tooltip {
            visibility: visible;
            opacity: 1;
        }

        @keyframes pulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }
            70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
            }
            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
            }
        }
        
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        
        .tool-page {
            display: none;
        }
        .tool-page.active {
            display: flex;
        }

        .dropdown:hover .dropdown-menu {
            display: block;
        }
        .dropdown-menu {
            display: none;
        }
        
        /* Custom scrollbar for sidebar */
        .sidebar-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .sidebar-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .sidebar-scroll::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 border-b border-gray-200">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-8">
                    <a href="#" class="flex items-center space-x-2 nav-link" data-page="landing">
                        <svg class="w-8 h-8 text-blue-600" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        <span class="text-2xl font-bold text-gray-800">StyLMYRoom</span>
                    </a>
                    <nav class="hidden md:flex items-center space-x-6">
                        <div class="relative dropdown">
                            <button class="text-gray-600 hover:text-blue-600 font-medium">Features</button>
                            <div class="dropdown-menu absolute mt-2 w-48 bg-white rounded-md shadow-xl z-20 py-1">
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 nav-link" data-page="redesaign-tool">ReDesAIgn</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">RepAInt</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600">Remodel</a>
                            </div>
                        </div>
                        <a href="#" class="text-gray-600 hover:text-blue-600 font-medium">About Us</a>
                        <a href="#" class="text-gray-600 hover:text-blue-600 font-medium">Contact Us</a>
                    </nav>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="text-gray-600 hover:text-blue-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m-9 9h18"></path></svg>
                    </button>
                    <button class="p-2 bg-gray-100 rounded-full text-gray-600 hover:text-blue-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="pt-16">
        <!-- Landing Page -->
        <div id="landing" class="page active">
            <section class="min-h-screen flex items-center bg-gradient-to-br from-blue-50 via-white to-green-50">
                <div class="container mx-auto px-6 py-12 text-center">
                    <h1 class="text-4xl md:text-6xl font-extrabold text-gray-800 leading-tight">Everything About Home Is Here</h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">StyLMYRoom - The all-in-one platform for design, inspiration, and community.</p>
                    <button id="get-started-btn" class="mt-8 px-8 py-3 bg-gray-800 text-white font-bold rounded-lg shadow-lg hover:bg-gray-900 transition-transform transform hover:scale-105">Get Started for Free</button>

                    <div class="mt-12 max-w-5xl mx-auto">
                        <div class="before-after-container aspect-video">
                            <div class="before-image" style="background-image: url('https://images.unsplash.com/photo-1560185007-c5ca9d2c014d?q=80&w=2070&auto=format&fit=crop');"></div>
                            <div class="after-image" style="background-image: url('https://images.unsplash.com/photo-1616046229478-9901c5536a45?q=80&w=2070&auto=format&fit=crop');">
                                <!-- Heat Buttons -->
                                <div class="heat-button flex items-center justify-center" style="top: 65%; left: 30%;">
                                    <div class="heat-button-inner"></div>
                                    <div class="heat-button-tooltip absolute -top-2 transform -translate-y-full w-max bg-white p-2 rounded-md shadow-lg text-left">
                                        <p class="font-bold">MODWAY Chair</p>
                                        <p class="text-sm">Accent Armchair, 1 pair</p>
                                        <p class="font-bold text-blue-600">Rs. 22,500</p>
                                    </div>
                                </div>
                                <div class="heat-button flex items-center justify-center" style="top: 40%; left: 80%;">
                                    <div class="heat-button-inner"></div>
                                    <div class="heat-button-tooltip absolute -top-2 transform -translate-y-full w-max bg-white p-2 rounded-md shadow-lg text-left">
                                        <p class="font-bold">DYTÅG Curtains</p>
                                        <p class="text-sm">Blackout Curtains, 1 pair</p>
                                        <p class="font-bold text-blue-600">Rs. 5,990</p>
                                    </div>
                                </div>
                                <div class="heat-button flex items-center justify-center" style="top: 75%; left: 60%;">
                                    <div class="heat-button-inner"></div>
                                    <div class="heat-button-tooltip absolute -top-2 transform -translate-y-full w-max bg-white p-2 rounded-md shadow-lg text-left">
                                        <p class="font-bold">nuLOOM Rug</p>
                                        <p class="text-sm">Contemporary Area Rug</p>
                                        <p class="font-bold text-blue-600">Rs. 15,200</p>
                                    </div>
                                </div>
                            </div>
                            <div class="slider-handle">
                                <div class="slider-handle-button">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"></path></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ReDesAIgn Tool Page -->
        <div id="redesaign-tool" class="tool-page h-screen pt-16">
            <!-- Left Sidebar -->
            <aside class="w-96 bg-white border-r border-gray-200 flex flex-col p-4 space-y-4">
                <div class="flex items-center justify-between">
                     <div class="flex items-center space-x-2 p-3 bg-blue-100/50 rounded-lg">
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                        <div>
                            <h2 class="text-lg font-bold text-gray-800">ReDesAIgn</h2>
                            <p class="text-sm text-gray-500">AI-Powered Staging</p>
                        </div>
                    </div>
                    <button class="px-4 py-2 bg-blue-500 text-white text-sm font-semibold rounded-lg hover:bg-blue-600">Change Tool</button>
                </div>
                
                <!-- Main Controls -->
                <div class="flex-grow overflow-y-auto sidebar-scroll pr-2">
                    <div id="initial-controls">
                        <!-- Upload Area -->
                        <div id="upload-area" class="text-center p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50">
                             <div class="flex justify-center">
                                <img src="https://placehold.co/80x80/E9EBF0/7C8498?text=🏠" class="rounded-full" alt="house icon">
                             </div>
                            <h3 class="mt-4 font-semibold text-gray-800">Start your design by a photo</h3>
                            <p class="mt-1 text-sm text-gray-500">Upload a photo of the room and experience the magic of StyLMYRoom right now!</p>
                            <button id="add-photo-btn" class="mt-4 w-full px-4 py-2 bg-gray-800 text-white font-bold rounded-lg shadow-md hover:bg-gray-900">Add a photo</button>
                        </div>
                        
                        <!-- Uploaded Photo State -->
                        <div id="uploaded-photo-state" class="hidden items-center p-3 border border-gray-200 rounded-lg bg-white">
                             <img id="thumbnail-preview" src="" class="w-16 h-16 object-cover rounded-md" alt="uploaded thumbnail">
                             <div class="ml-4 flex-grow">
                                <p class="text-sm font-semibold text-gray-800">Photo to be rendered</p>
                                <p id="photo-id" class="text-xs text-gray-500 truncate"></p>
                             </div>
                             <button id="change-photo-btn" class="text-sm font-semibold text-blue-600 hover:underline">Change</button>
                        </div>

                        <!-- Budget Input -->
                        <div class="mt-4">
                            <label for="budget" class="block text-sm font-medium text-gray-700 mb-1">Budget Input</label>
                            <div class="relative">
                                <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">Rs.</span>
                                <input type="number" name="budget" id="budget" class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., 50000">
                            </div>
                        </div>

                        <!-- Post-Generation Filters -->
                        <div id="post-generation-filters" class="hidden mt-4 space-y-3">
                            <h3 class="font-semibold">Refine Results</h3>
                            <div>
                                <label for="style-filter" class="block text-sm font-medium text-gray-700">Style</label>
                                <select id="style-filter" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                                    <option>Modern</option>
                                    <option>Minimalist</option>
                                    <option>Bohemian</option>
                                    <option>Industrial</option>
                                </select>
                            </div>
                            <div>
                                <label for="color-filter" class="block text-sm font-medium text-gray-700">Primary Color</label>
                                <input type="color" id="color-filter" value="#3b82f6" class="mt-1 block w-full h-10 rounded-md border-gray-300">
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Generate Button -->
                <div class="mt-auto">
                    <button id="generate-btn" class="w-full flex items-center justify-center px-4 py-3 bg-red-500 text-white font-bold rounded-lg shadow-lg hover:bg-red-600 transition disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                        Generate
                        <span class="ml-2 bg-white/20 px-2 py-0.5 rounded-full text-sm flex items-center">
                            🔥 3
                        </span>
                    </button>
                </div>
            </aside>
            
            <!-- Main Content Area -->
            <main class="flex-1 bg-gray-100 flex flex-col p-6 overflow-y-auto">
                <div id="tool-initial-view" class="flex-grow flex flex-col items-center justify-center text-center">
                    <div class="p-6 bg-white rounded-full shadow">
                        <svg class="w-16 h-16 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                    </div>
                    <h2 class="mt-6 text-2xl font-bold text-gray-800">Unlock your creative potential</h2>
                    <p class="mt-2 max-w-md text-gray-500">Experience the magic of StyLMYRoom right now! Upload an image and see your space transform.</p>
                </div>

                <div id="tool-preview-view" class="hidden flex-grow flex flex-col">
                    <div id="image-preview-container" class="relative flex-grow bg-white rounded-lg shadow-inner border border-gray-200 flex items-center justify-center">
                        <img id="main-image-preview" src="" class="max-h-full max-w-full object-contain rounded-lg" alt="Uploaded Image Preview">
                        <div id="generation-loader" class="hidden absolute inset-0 bg-white/80 backdrop-blur-sm flex flex-col items-center justify-center rounded-lg">
                           <svg class="animate-spin h-10 w-10 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                               <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                               <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                           </svg>
                           <p class="mt-4 font-semibold text-gray-700">Generating your design...</p>
                        </div>
                    </div>
                </div>
                
                <div id="tool-results-view" class="hidden flex-grow flex flex-col">
                     <div class="before-after-container aspect-video" id="results-slider-container">
                         <div class="before-image" id="result-before-image"></div>
                         <div class="after-image" id="result-after-image">
                             <!-- Dynamic Heat Buttons -->
                         </div>
                         <div class="slider-handle">
                             <div class="slider-handle-button">
                                 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"></path></svg>
                             </div>
                         </div>
                     </div>
                     
                     <div class="my-4 py-2 border-y border-gray-200 flex items-center justify-center space-x-4">
                         <a href="#" class="text-sm font-semibold text-blue-600 hover:underline">Luxury</a>
                         <span class="text-gray-300">|</span>
                         <a href="#" class="text-sm font-semibold text-blue-600 hover:underline">Below 10K</a>
                         <span class="text-gray-300">|</span>
                         <a href="#" class="text-sm font-semibold text-blue-600 hover:underline">RePaint</a>
                         <span class="text-gray-300">|</span>
                         <a href="#" class="text-sm font-semibold text-blue-600 hover:underline">Consult</a>
                     </div>

                     <!-- Product & Upsell Section -->
                     <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-2">
                         <div class="lg:col-span-2 bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                             <h3 class="font-bold text-lg mb-4">Newly Added Products</h3>
                             <div id="product-list" class="space-y-3">
                                <!-- Dynamic Product Items -->
                             </div>
                         </div>
                         <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                            <h3 class="font-bold text-lg mb-4">Explore Other Services</h3>
                            <div class="space-y-4">
                                <div id="repaint-upsell" class="cursor-pointer group">
                                    <img src="https://images.unsplash.com/photo-1596205252519-ef2361d90062?q=80&w=1964&auto=format&fit=crop" class="rounded-lg object-cover w-full h-32 group-hover:opacity-80 transition" alt="Repainted room">
                                    <p class="font-semibold mt-2">Try RepAInt</p>
                                    <p class="text-sm text-gray-500">See this room with a new coat of paint.</p>
                                </div>
                                <div id="remodel-upsell" class="cursor-pointer group">
                                    <img src="https://images.unsplash.com/photo-1600607687839-a609505f03a1?q=80&w=2070&auto=format&fit=crop" class="rounded-lg object-cover w-full h-32 group-hover:opacity-80 transition" alt="Remodeled room">
                                    <p class="font-semibold mt-2">Consult a Remodel</p>
                                    <p class="text-sm text-gray-500">Get an expert opinion on structural changes.</p>
                                </div>
                            </div>
                         </div>
                     </div>

                </div>

                <div id="generation-history-container" class="mt-6">
                    <h3 class="text-lg font-bold">Generation History</h3>
                    <div class="mt-2 space-y-3">
                        <div class="flex items-center p-2 bg-white rounded-lg shadow-sm border">
                            <svg class="w-8 h-8 text-gray-400 mr-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                            <p class="font-semibold text-gray-700">AI 3D Rendering</p>
                            <p class="ml-auto text-sm text-gray-500">08-26 12:35</p>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </main>

    <!-- Modals -->
    <!-- Add Photo Modal -->
    <div id="add-photo-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl transform transition-all">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-xl font-semibold">Add a photo</h3>
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div class="p-6">
                <div class="border-b border-gray-200">
                    <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                        <a href="#" class="whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-blue-500 text-blue-600">Assets</a>
                        <a href="#" class="whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Example</a>
                    </nav>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                    <div class="relative group">
                        <label for="file-upload" class="cursor-pointer">
                            <div class="aspect-square bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center text-gray-500 hover:bg-gray-200 hover:border-blue-500 hover:text-blue-600 transition">
                                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                                <span class="mt-2 text-sm font-medium">Upload</span>
                            </div>
                        </label>
                        <input id="file-upload" name="file-upload" type="file" class="sr-only">
                        <!-- Custom upload options dropdown -->
                        <div class="absolute hidden group-hover:block bottom-0 left-0 right-0 bg-white shadow-lg rounded-b-lg py-1">
                             <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">From Files</a>
                             <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">From Camera</a>
                             <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">From Drive</a>
                        </div>
                    </div>
                    <!-- Example Images -->
                    <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=1916&auto=format&fit=crop" class="modal-img aspect-square object-cover rounded-lg cursor-pointer hover:ring-4 ring-blue-500 ring-offset-2 transition" alt="Example room 1">
                    <img src="https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?q=80&w=2071&auto=format&fit=crop" class="modal-img aspect-square object-cover rounded-lg cursor-pointer hover:ring-4 ring-blue-500 ring-offset-2 transition" alt="Example room 2">
                    <img src="https://images.unsplash.com/photo-1618220179428-22790b461013?q=80&w=1854&auto=format&fit=crop" class="modal-img aspect-square object-cover rounded-lg cursor-pointer hover:ring-4 ring-blue-500 ring-offset-2 transition" alt="Example room 3">
                </div>
            </div>
            <div class="flex justify-end p-4 bg-gray-50 border-t">
                <button id="cancel-modal-btn" class="px-6 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg shadow-sm hover:bg-gray-50">Cancel</button>
                <button id="confirm-modal-btn" class="ml-3 px-6 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-sm hover:bg-red-600 disabled:bg-gray-300" disabled>Confirm</button>
            </div>
        </div>
    </div>
    
    <!-- Premium Upsell Modal -->
    <div id="premium-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-md text-center p-8 transform transition-all">
            <h3 class="text-2xl font-bold">Unlock Premium Features</h3>
            <p class="mt-2 text-gray-600">Access advanced tools like RepAInt and Remodel consultations by upgrading your plan.</p>
            <div class="mt-6 flex flex-col space-y-3">
                 <button class="w-full px-4 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-lg hover:bg-blue-700">Explore Premium Plans</button>
                 <button id="close-premium-modal-btn" class="w-full px-4 py-2 text-gray-600 font-semibold hover:underline">Maybe Later</button>
            </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- Page Navigation ---
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page, .tool-page');
        const getStartedBtn = document.getElementById('get-started-btn');

        function showPage(pageId) {
            pages.forEach(p => p.classList.remove('active'));
            const targetPage = document.getElementById(pageId);
            if(targetPage) {
                targetPage.classList.add('active');
            }
            window.scrollTo(0, 0);
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = link.getAttribute('data-page');
                showPage(pageId);
            });
        });

        getStartedBtn.addEventListener('click', () => showPage('redesaign-tool'));
        
        
        // --- Before/After Slider ---
        function setupSlider(container) {
            const sliderHandle = container.querySelector('.slider-handle');
            const afterImage = container.querySelector('.after-image');
            let isDragging = false;
    
            function moveSlider(x) {
                const rect = container.getBoundingClientRect();
                let percentage = ((x - rect.left) / rect.width) * 100;
                percentage = Math.max(0, Math.min(100, percentage));
                sliderHandle.style.left = `${percentage}%`;
                afterImage.style.clipPath = `polygon(${percentage}% 0, 100% 0, 100% 100%, ${percentage}% 100%)`;
            }
    
            sliderHandle.addEventListener('mousedown', () => isDragging = true);
            document.addEventListener('mouseup', () => isDragging = false);
            document.addEventListener('mousemove', (e) => {
                if (isDragging) moveSlider(e.clientX);
            });
            sliderHandle.addEventListener('touchstart', () => isDragging = true);
            document.addEventListener('touchend', () => isDragging = false);
            document.addEventListener('touchmove', (e) => {
                if(isDragging) moveSlider(e.touches[0].clientX);
            });
        }
        setupSlider(document.querySelector('.before-after-container'));
        setupSlider(document.getElementById('results-slider-container'));


        // --- ReDesAIgn Tool Logic ---
        const addPhotoBtn = document.getElementById('add-photo-btn');
        const addPhotoModal = document.getElementById('add-photo-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const cancelModalBtn = document.getElementById('cancel-modal-btn');
        const confirmModalBtn = document.getElementById('confirm-modal-btn');
        const fileUpload = document.getElementById('file-upload');
        const modalImages = document.querySelectorAll('.modal-img');
        const generateBtn = document.getElementById('generate-btn');
        
        const uploadArea = document.getElementById('upload-area');
        const uploadedPhotoState = document.getElementById('uploaded-photo-state');
        const thumbnailPreview = document.getElementById('thumbnail-preview');
        const photoId = document.getElementById('photo-id');
        const changePhotoBtn = document.getElementById('change-photo-btn');

        const toolInitialView = document.getElementById('tool-initial-view');
        const toolPreviewView = document.getElementById('tool-preview-view');
        const mainImagePreview = document.getElementById('main-image-preview');
        const toolResultsView = document.getElementById('tool-results-view');
        const generationLoader = document.getElementById('generation-loader');

        let selectedImageUrl = null;

        // Modal management
        const openModal = () => addPhotoModal.classList.remove('hidden');
        const closeModal = () => addPhotoModal.classList.add('hidden');
        addPhotoBtn.addEventListener('click', openModal);
        changePhotoBtn.addEventListener('click', openModal);
        closeModalBtn.addEventListener('click', closeModal);
        cancelModalBtn.addEventListener('click', closeModal);

        // Image selection in modal
        modalImages.forEach(img => {
            img.addEventListener('click', () => {
                modalImages.forEach(i => i.classList.remove('ring-4', 'ring-blue-500'));
                img.classList.add('ring-4', 'ring-blue-500');
                selectedImageUrl = img.src;
                confirmModalBtn.disabled = false;
            });
        });

        fileUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    selectedImageUrl = event.target.result;
                    modalImages.forEach(i => i.classList.remove('ring-4', 'ring-blue-500'));
                    confirmModalBtn.disabled = false;
                    // For demo, we just use the URL
                    confirmSelection();
                };
                reader.readAsDataURL(file);
            }
        });

        function confirmSelection() {
            if (!selectedImageUrl) return;

            // Update sidebar
            uploadArea.classList.add('hidden');
            uploadedPhotoState.classList.remove('hidden');
            thumbnailPreview.src = selectedImageUrl;
            photoId.textContent = `deded877b76894d06b07861...`;
            
            // Update main view
            toolInitialView.style.display = 'none';
            toolResultsView.classList.add('hidden');
            toolPreviewView.classList.remove('hidden');
            toolPreviewView.style.display = 'flex';
            mainImagePreview.src = selectedImageUrl;

            generateBtn.disabled = false;
            closeModal();
            resetModalSelection();
        }

        confirmModalBtn.addEventListener('click', confirmSelection);
        
        function resetModalSelection() {
             modalImages.forEach(i => i.classList.remove('ring-4', 'ring-blue-500'));
             selectedImageUrl = null;
             confirmModalBtn.disabled = true;
        }

        // --- Generation Simulation ---
        generateBtn.addEventListener('click', () => {
            if (generateBtn.disabled) return;
            generationLoader.classList.remove('hidden');
            generateBtn.disabled = true;
            generateBtn.textContent = 'Generating...';
            
            setTimeout(() => {
                generationLoader.classList.add('hidden');
                generateBtn.disabled = false;
                generateBtn.innerHTML = `Generate <span class="ml-2 bg-white/20 px-2 py-0.5 rounded-full text-sm flex items-center">🔥 2</span>`;
                showResults();
            }, 3000); // Simulate 3-second generation
        });
        
        function showResults() {
            toolPreviewView.style.display = 'none';
            toolResultsView.classList.remove('hidden');
            toolResultsView.style.display = 'flex';
            
            document.getElementById('post-generation-filters').classList.remove('hidden');
            document.getElementById('generation-history-container').style.display = 'none';

            // Populate results
            const beforeImg = document.getElementById('result-before-image');
            const afterImg = document.getElementById('result-after-image');
            beforeImg.style.backgroundImage = `url('${mainImagePreview.src}')`;
            
            // This would be the AI generated image
            const afterImageUrl = 'https://images.unsplash.com/photo-1615874959474-d609969a20ed?q=80&w=1912&auto=format&fit=crop';
            afterImg.style.backgroundImage = `url('${afterImageUrl}')`;
            
            // Populate products and heat buttons
            populateResultDetails(afterImg);
        }
        
        function populateResultDetails(afterImageContainer) {
            const products = [
                { name: 'Elegant Sofa', desc: '3-seater velvet sofa', price: '45,000', top: '70%', left: '50%' },
                { name: 'Modern Coffee Table', desc: 'Oak wood finish', price: '12,500', top: '80%', left: '35%' },
                { name: 'Abstract Wall Art', desc: 'Canvas print', price: '8,000', top: '30%', left: '60%' },
            ];

            const productList = document.getElementById('product-list');
            productList.innerHTML = '';
            afterImageContainer.innerHTML = '';
            
            products.forEach(p => {
                // Add heat button
                const heatButton = document.createElement('div');
                heatButton.className = 'heat-button flex items-center justify-center';
                heatButton.style.top = p.top;
                heatButton.style.left = p.left;
                heatButton.innerHTML = `
                    <div class="heat-button-inner"></div>
                    <div class="heat-button-tooltip absolute -top-2 transform -translate-y-full w-max bg-white p-2 rounded-md shadow-lg text-left">
                        <p class="font-bold">${p.name}</p>
                        <p class="text-sm">${p.desc}</p>
                        <p class="font-bold text-blue-600">Rs. ${p.price}</p>
                    </div>`;
                afterImageContainer.appendChild(heatButton);

                // Add to product list
                const productItem = document.createElement('div');
                productItem.className = 'flex items-center p-2 border-b';
                productItem.innerHTML = `
                    <div class="ml-4">
                        <p class="font-semibold">${p.name}</p>
                        <p class="text-sm text-gray-500">${p.desc}</p>
                    </div>
                    <p class="ml-auto font-bold text-lg text-blue-600">Rs. ${p.price}</p>`;
                productList.appendChild(productItem);
            });
        }
        
        // --- Premium Upsell Modal ---
        const premiumModal = document.getElementById('premium-modal');
        const repaintUpsell = document.getElementById('repaint-upsell');
        const remodelUpsell = document.getElementById('remodel-upsell');
        const closePremiumBtn = document.getElementById('close-premium-modal-btn');
        
        repaintUpsell.addEventListener('click', () => premiumModal.classList.remove('hidden'));
        remodelUpsell.addEventListener('click', () => premiumModal.classList.remove('hidden'));
        closePremiumBtn.addEventListener('click', () => premiumModal.classList.add('hidden'));

    });
    </script>
</body>
</html>
